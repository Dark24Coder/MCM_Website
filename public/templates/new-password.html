<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg" href="../assets/images/logo/logomcm.svg" />
    <link rel="stylesheet" href="../assets/css/newPassword/newPassword.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <title>MCM - R√©cup√©ration de mot de passe</title>
</head>
<body>
    <a href="login.html" class="back-to-login">
        ‚Üê Retour √† la connexion
    </a>

    <div class="recovery-container">
        <!-- Left Side - Form -->
        <div class="recovery-form-side">
            <div class="recovery-header">
                <h1 class="recovery-title">R√©cup√©ration de mot de passe</h1>
                <p class="recovery-subtitle">Suivez les √©tapes pour r√©cup√©rer votre compte</p>
            </div>

            <div class="pass">
                <input id="password" type="password" placeholder="Entrez votre nouveau mot de passe" class="form-control" required>
                <input id="confirmPassword" type="password" placeholder="Confirmez votre mot de passe" class="form-control" required>
            </div>

            <button id="submitNewPassButton" type="button" class="recovery-btn" onclick="submitNewPassword()">
                    <span>Envoyer le mot de passe temporaire</span>
            </button>

            <!-- Messages -->
            <div class="error-message message" id="errorMessage"></div>
            <div class="success-message message" id="successMessage"></div>
            <div class="info-message message" id="infoMessage"></div>

            <!-- Loading -->
            <div class="loading" id="loadingSpinner">
                <div class="spinner"></div>
                <p>Chargement...</p>
            </div>

            <div class="step-section" id="changePasswordStep">
                <h3>√âtape 3: Nouveau mot de passe</h3>
                <p>Cr√©ez votre nouveau mot de passe s√©curis√©</p>
                
                <div class="form-group">
                    <label for="tempPasswordInput">Mot de passe temporaire</label>
                    <div class="password-group">
                        <input type="password" class="form-control" id="tempPasswordInput" 
                                placeholder="Saisissez votre mot de passe temporaire" required />
                        <button type="button" class="password-toggle" onclick="togglePassword('tempPasswordInput')">
                            üëÅÔ∏è
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="newPassword">Nouveau mot de passe</label>
                    <div class="password-group">
                        <input type="password" class="form-control" id="newPassword" 
                                placeholder="Minimum 8 caract√®res" required 
                                oninput="checkPasswordStrength()" />
                        <button type="button" class="password-toggle" onclick="togglePassword('newPassword')">
                            üëÅÔ∏è
                        </button>
                    </div>
                    <div class="password-strength" id="passwordStrength">
                        <div class="strength-indicator">
                            <div class="strength-bar" id="bar1"></div>
                            <div class="strength-bar" id="bar2"></div>
                            <div class="strength-bar" id="bar3"></div>
                            <div class="strength-bar" id="bar4"></div>
                        </div>
                        <div id="strengthText">Entrez un mot de passe</div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="confirmNewPassword">Confirmer le nouveau mot de passe</label>
                    <div class="password-group">
                        <input type="password" class="form-control" id="confirmNewPassword" 
                                placeholder="Retapez votre mot de passe" required />
                        <button type="button" class="password-toggle" onclick="togglePassword('confirmNewPassword')">
                            üëÅÔ∏è
                        </button>
                    </div>
                </div>

                <button type="button" class="recovery-btn" onclick="changePassword()">
                    <span>Changer le mot de passe</span>
                </button>
            </div>
        </div>

        <!-- Right Side - Carousel -->
        <div class="recovery-carousel-side">
            <div class="carousel-wrapper">
                <div class="carousel-track" id="carouselTrack">
                    <div class="carousel-slide">
                        <img src="../assets/images/spirituality-religion-women-religious-concepts-hands-praying-god-while-holding-cross-symbol-nun-caught-cross-his-hand.jpg" alt="MCM Security">
                    </div>
                    <div class="carousel-slide">
                        <img src="../assets/images/bread-wine-arrangement-still-life.jpg" alt="MCM Protection">
                    </div>
                    <div class="carousel-slide">
                        <img src="../assets/images/high-angle-wooden-cross-rosary.jpg" alt="MCM Trust">
                    </div>
                </div>
            </div>
            
            <div class="carousel-overlay"></div>
            
            <div class="carousel-content">
                <div class="carousel-text" id="carouselText">
                    <div class="carousel-icon">üîê</div>
                    <h2 class="carousel-title">R√©cup√©ration s√©curis√©e</h2>
                    <p class="carousel-description">
                        Votre s√©curit√© est notre priorit√©. Suivez les √©tapes pour r√©cup√©rer l'acc√®s √† votre compte en toute s√©curit√©.
                    </p>
                    <div class="carousel-dots" id="carouselDots"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="../assets/js/password/password.js"></script>
</body>
</html>