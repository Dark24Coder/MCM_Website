<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg" href="./assets/images/logo/mcm_logo.svg" />
    <link rel="stylesheet" href="./assets/css/login/login.css" />
    <title>MCM - Login page</title>
</head>
<body>
    <a href="index.html" class="back-to-home">‚Üê Accueil</a>

    <div class="auth-container">
        <div class="auth-header">
            <div class="logo">MCM</div>
            <h1>Syst√®me de Gestion MCM</h1>
            <p>Connectez-vous pour acc√©der √† votre espace</p>
        </div>

        <div class="auth-form">
            <div class="form-toggle">
                <button class="toggle-btn active" onclick="showLogin(event)">Connexion</button>
                <button class="toggle-btn" onclick="showRegister(event)">Cr√©er un compte</button>
            </div>

            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>

            <div class="loading" id="loadingSpinner" style="display:none;">
                <div class="spinner"></div>
                <p>Chargement...</p>
            </div>

            <!-- Formulaire de connexion -->
            <form class="form-section active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Adresse email</label>
                    <input type="email" class="form-control" id="loginEmail" placeholder="johndoe@example.com" required />
                </div>

                <div class="form-group">
                    <label for="loginPassword">Mot de passe</label>
                    <div class="password-group">
                        <input type="password" class="form-control" id="loginPassword" required />
                        <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                            üëÅ
                        </button>
                    </div>
                </div>

                <div class="remember-me">
                    <input type="checkbox" id="rememberMe" />
                    <label for="rememberMe">Se souvenir de moi</label>
                </div>

                <button type="submit" class="auth-btn">Se connecter</button>
            </form>

            <!-- Formulaire d'inscription -->
            <form class="form-section" id="registerForm" style="display:none;">
                <div class="form-row">
                    <div class="form-group">
                        <label for="registerNom">Nom</label>
                        <input type="text" class="form-control" id="registerNom" required />
                    </div>
                    <div class="form-group">
                        <label for="registerPrenom">Pr√©nom</label>
                        <input type="text" class="form-control" id="registerPrenom" required />
                    </div>
                </div>

                <div class="form-group">
                    <label for="registerEmail">Adresse email</label>
                    <input type="email" class="form-control" id="registerEmail" placeholder="johndoe@example.com" required />
                </div>

                <div class="form-group">
                    <label for="registerPassword">Mot de passe</label>
                    <div class="password-group">
                        <input type="password" class="form-control" id="registerPassword" required />
                        <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                            üëÅ
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="registerRole">R√¥le</label>
                    <select class="form-select" id="registerRole" required onchange="handleRoleChange()">
                        <option value="">S√©lectionnez un r√¥le</option>
                        <option value="admin">Charg√© de service</option>
                        <option value="adminCom">Admin de commission</option>
                        <option value="superadmin">Super Admin</option>
                    </select>
                </div>

                <div class="form-group" id="commissionGroup" style="display:none;">
                    <label for="registerCommission">Commission</label>
                    <select class="form-select" id="registerCommission" onchange="loadServices()">
                        <option value="">S√©lectionnez une commission</option>
                    </select>
                </div>

                <div class="form-group" id="serviceGroup" style="display:none;">
                    <label for="registerService">Service</label>
                    <select class="form-select" id="registerService">
                        <option value="">S√©lectionnez un service</option>
                    </select>
                </div>

                <button type="submit" class="auth-btn">Cr√©er le compte</button>
            </form>
        </div>
    </div>

    <script src="./assets/js/login/login.js"></script>
</body>
</html>
